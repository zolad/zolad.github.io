<!DOCTYPE html>
<html  lang="en">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 4.2.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>Zola&#39;s Blog</title>


    <meta name="description" content="An Android Developer  Enjoy technology , Enjoy Life">
<meta property="og:type" content="website">
<meta property="og:title" content="Zola&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Zola&#39;s Blog">
<meta property="og:description" content="An Android Developer  Enjoy technology , Enjoy Life">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://yoursite.com/images/og_image.png">
<meta property="article:author" content="Zola">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/gen.svg" alt="Zola&#39;s Blog" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item is-active"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    
<div class="card">
    
    <div class="card-image">
        <a href="/2020/02/28/java_certificate_verify/java_certificate_verify_and_decript/" class="image is-7by1">
            <img class="thumbnail" src="/gallery/5.jpeg" alt="JAVA根证书验证用户证书是否可信和解密数据">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-02-27T16:00:00.000Z">2020-02-28</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Java-Certificate/">Java Certificate</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 minutes read (About 353 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/02/28/java_certificate_verify/java_certificate_verify_and_decript/">JAVA根证书验证用户证书是否可信和解密数据</a>
            
        </h1>
        <div class="content">
            <p>一般用户证书和加密数据是一起发放到客户端的，但是使用用户证书的公钥解密数据前需要验证用户证书是否可信，即从源头来说是否由根证书签发的，按证书链去认证。使用根证书验证用户证书可信并解密的Java实现如下：</p>
<p>1.读取根证书文件初始化根证书对象，并获取根证书中的公钥</p>
<pre><code>CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);
Certificate rootCert = certificateFactory.generateCertificate(new FileInputStream(rootCertPath));
PublicKey rootCertPublicKey = rootCert.getPublicKey();</code></pre><p>2.使用用户证书byte数组数据初始化用户证书对象</p>
<pre><code>X509Certificate userCert = (X509Certificate)certificateFactory.generateCertificate(
                new ByteArrayInputStream(userCertByteArray));</code></pre><p>3.使用用户证书验证根证书的公钥，如果验证通过（即不抛出Exception）说明这个用户证书是这个根证书签发的,同时检查用户证书是否有效</p>
<pre><code>try {
       userCert.verify(rootCertPublicKey);
       userCert.checkValidity();
       Log.d(TAG,&quot;------------- 工作证书验证成功 -----------&quot;);
}catch (Exception e) {
       Log.d(TAG,&quot;------------- 工作证书验证失败 -----------&quot;);

}</code></pre><p>4.最后使用用户证书的公钥进行解密</p>
<pre><code>try {
    Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/NoPadding&quot;);
    cipher.init(Cipher.DECRYPT_MODE, userCert);
    byte[] output = cipher.doFinal(cipherData);
    return output;
} catch (NoSuchAlgorithmException e) {
    throw new Exception(&quot;无此解密算法&quot;);
} catch (NoSuchPaddingException e) {
    e.printStackTrace();
    return null;
} catch (InvalidKeyException e) {
    throw new Exception(&quot;解密公钥非法,请检查&quot;);
} catch (IllegalBlockSizeException e) {
    throw new Exception(&quot;密文长度非法&quot;);
} catch (BadPaddingException e) {
    throw new Exception(&quot;密文数据已损坏&quot;);
}</code></pre>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2020/02/28/uvccamera/android_uvccamera_experience_and_bug/" class="image is-7by1">
            <img class="thumbnail" src="/gallery/3.jpeg" alt="Android UVCCamera/libuvc遇到的卡死崩溃bug和解决方法">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-02-27T16:00:00.000Z">2020-02-28</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android-UVCCamera-libuvc/">Android UVCCamera/libuvc</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 minutes read (About 865 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/02/28/uvccamera/android_uvccamera_experience_and_bug/">Android UVCCamera/libuvc遇到的卡死崩溃bug和解决方法</a>
            
        </h1>
        <div class="content">
            <p>分享下debug uvccamera/libuvc这些so库遇到的卡死崩溃问题和思路</p>
<hr>
<h3 id="1-UVCCamera执行stopPreview或release时阻塞卡死"><a href="#1-UVCCamera执行stopPreview或release时阻塞卡死" class="headerlink" title="1.UVCCamera执行stopPreview或release时阻塞卡死"></a>1.UVCCamera执行stopPreview或release时阻塞卡死</h3><p>在多次重复打开关闭uvc摄像头的时候，上层调用stopPreview/release会概率性卡死，经过调试一步步定位调用函数和阻塞住的位置</p>
<p>android java层调用略，下面直接从so库的代码开始；<br> –&gt;<br>UVCCamera/UVCCamera.cpp-stopPreview()<br> –&gt;<br>UVCCamera/UVCPreView.cpp-stopPreview()<br>这里设置mIsRunning = false;停止预览帧处理；<br>调试发现，在下面这一句代码阻塞住没有往下走了：<br>pthread_join(preview_thread, NULL) != EXIT_SUCCESS;<br>pthread_join会阻塞到preview_thread预览线程执行结束为止，所以预览处理没有正常结束；<br>–&gt;<br>UVCCamera/UVCPreview.cpp-do_preview()<br>结束预览时会停止libuvc的流处理uvc_stop_streaming(mDeviceHandle);，所以流处理没有正常结束；<br>–&gt;<br>libuvc/stream.c-uvc_stop_streaming()<br>–&gt;<br>libuvc/stream.c-uvc_stream_close()<br>–&gt;<br>libuvc/stream.c-uvc_stream_stop()<br>这一步停止流的传输，并将所有流转换器都释放掉：<br>strmh-&gt;running = 0;并遍历调用libusb_cancel_transfer(strmh-&gt;transfers[i]);<br>至于关键的阻塞代码如下：</p>
<pre><code>/* Wait for transfers to complete/cancel */
    for (; 1 ;) {
        for (i = 0; i &lt; LIBUVC_NUM_TRANSFER_BUFS; i++) {
            if (strmh-&gt;transfers[i] != NULL)
                break;
        }
        if (i == LIBUVC_NUM_TRANSFER_BUFS)
            break;
        pthread_cond_wait(&amp;strmh-&gt;cb_cond, &amp;strmh-&gt;cb_mutex);
    }</code></pre><p>这里会一直循环等待所有流转换器都释放置空完成，而问题就在于偏偏有个别流转换器就是无法正常释放。</p>
<p>为什么没有正常释放完成，<br>是因为libusb_cancel_transfer失败返回LIBUSB_ERROR_NOT_FOUND的状态时，<br>转换器持有无效的buffer和指针，导致上面的循环代码一直不往下走。</p>
<p>一般释放正常时的Log如下：</p>
<pre><code>[4632*stream.c:989:_uvc_stream_callback]:not retrying transfer, status = 3
[4632*stream.c:629:_uvc_delete_transfer]:begin
[4632*stream.c:642:_uvc_delete_transfer]:Freeing transfer 5 (0x72fdbe5960)
[4632*stream.c:656:_uvc_delete_transfer]:end</code></pre><p>但函数阻塞住时，我发现并没有看到index为6的transfer执行delete的Log，于是我怀疑是否跟transfer的数量有关。</p>
<p>这时查看源码里有一个transfer buffers的数量定义如下：</p>
<pre><code>libuvc/libuvc_internal.h
/*
  set a high number of transfer buffers. This uses a lot of ram, but
  avoids problems with scheduling delays on slow boards causing missed
  transfers. A better approach may be to make the transfer thread FIFO
  scheduled (if we have root).
  We could/should change this to allow reduce it to, say, 5 by default
  and then allow the user to change the number of buffers as required.
 */
#define LIBUVC_NUM_TRANSFER_BUFS 10</code></pre><p>如果设置得太高，不仅会提高内存的占用，在处理速度慢的板子上也会有transfer浪费掉。<br>这里我尝试降低数量值为5，再次调试开关100次，stopPreview卡死的问题不再复现。</p>
<h3 id="2-JNI-DETECTED-ERROR-IN-APPLICATION-jmethodID-was-NULL-空指针"><a href="#2-JNI-DETECTED-ERROR-IN-APPLICATION-jmethodID-was-NULL-空指针" class="headerlink" title="2.JNI DETECTED ERROR IN APPLICATION: jmethodID was NULL  空指针"></a>2.JNI DETECTED ERROR IN APPLICATION: jmethodID was NULL  空指针</h3><p>由于java上层设置setFrameCallback(null, 0); iframecallback_fields.onFrame在另外一个线程被置为NULL<br>而以下这段代码没有判空，导致的空指针：<br><font color='red'>env-&gt;CallVoidMethod(mFrameCallbackObj, iframecallback_fields.onFrame, buf);</font></p>
<p>解决方法为增加空指针判断如下</p>
<pre><code>void UVCPreview::do_capture_callback(JNIEnv *env, uvc_frame_t *frame){
...
+if (iframecallback_fields.onFrame != NULL) {
  env-&gt;CallVoidMethod(mFrameCallbackObj, iframecallback_fields.onFrame, buf);
+}
...
}
</code></pre><h3 id="3-UVCCamera-could-not-open-camera-err-99"><a href="#3-UVCCamera-could-not-open-camera-err-99" class="headerlink" title="3.UVCCamera could not open camera:err=-99"></a>3.UVCCamera could not open camera:err=-99</h3><p>要检查打开的usb设备是否已经被其他进程打开了/其他进程持有没释放/打开的是不是UVC摄像头，是否打开了错误的其他usb设备</p>
<h3 id="4-其他一些别人发现的bug和修复方法"><a href="#4-其他一些别人发现的bug和修复方法" class="headerlink" title="4.其他一些别人发现的bug和修复方法"></a>4.其他一些别人发现的bug和修复方法</h3><p><a href="https://github.com/saki4510t/UVCCamera/pull/520">https://github.com/saki4510t/UVCCamera/pull/520</a><br><a href="https://github.com/saki4510t/UVCCamera/pull/328">https://github.com/saki4510t/UVCCamera/pull/328</a></p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2019/12/07/android_driver/camera_driver_config_experience/" class="image is-7by1">
            <img class="thumbnail" src="/gallery/11.jpeg" alt="Android Camera Driver平台(展讯、MTK)适配经验">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-12-07T02:00:00.000Z">2019-12-07</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android-Driver/">Android Driver</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 minutes read (About 845 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/12/07/android_driver/camera_driver_config_experience/">Android Camera Driver平台(展讯、MTK)适配经验</a>
            
        </h1>
        <div class="content">
            <h2 id="展讯平台"><a href="#展讯平台" class="headerlink" title="展讯平台"></a>展讯平台</h2><h3 id="1-项目对应kernel-dts文件配置"><a href="#1-项目对应kernel-dts文件配置" class="headerlink" title="1.项目对应kernel/dts文件配置"></a>1.项目对应kernel/dts文件配置</h3><pre><code>&amp;i2c0 {
    status = &quot;okay&quot;;
    clock-frequency = &lt;400000&gt;;

    sensor_main: sensor-main@3c {
        compatible = &quot;sprd,sensor-main&quot;;
        reg = &lt;0x3c&gt;;
        clock-names = &quot;clk_src&quot;, &quot;sensor_eb&quot;,
            &quot;clk_96m&quot;, &quot;clk_76m8&quot;,
            &quot;clk_48m&quot;, &quot;clk_26m&quot;;
        clocks  = &lt;&amp;clk_sensor0&gt;,
            &lt;&amp;clk_mm_ckg_gates 1&gt;,
            &lt;&amp;clk_twpll_96m&gt;,
            &lt;&amp;clk_twpll_76m8&gt;,
            &lt;&amp;clk_twpll_48m&gt;,
            &lt;&amp;ext_26m&gt;;
        vddio-supply = &lt;&amp;vddcamio&gt;;
        vddcama-supply = &lt;&amp;vddcama&gt;;
        vddcamd-supply = &lt;&amp;vddcamd&gt;;
        vddcammot-supply = &lt;&amp;vddcammot&gt;;
        reset-gpios = &lt;&amp;ap_gpio 37 0&gt;;
        power-down-gpios = &lt;&amp;ap_gpio 39 0&gt;;
        host = &quot;dcam0&quot;;
        port {
            sensor_main_0: endpoint {
                remote-endpoint = &lt;&amp;phy0_out&gt;;
            };
        };
    };

};</code></pre><p>(1).compatible = “sprd,sensor-main”， 这里不需要配摄像头的I2C Device Address，<br>alps/kernel/drivers/misc/sprd_camera/sensor/sprd_sensor_drv.c 会读取这里的id进行处理<br>具体的I2C地址在sensor驱动中配置</p>
<p>(2).reset-gpios，power-down-gpios可通过查看机器板子的原理图来确定对应gpio的引脚修改</p>
<h3 id="2-项目对应device-BoardConfig-mk配置"><a href="#2-项目对应device-BoardConfig-mk配置" class="headerlink" title="2.项目对应device/../../BoardConfig.mk配置"></a>2.项目对应device/../../BoardConfig.mk配置</h3><p>(1).配上前后置摄像头对应Camera Sensor的型号，如：<br>CAMERA_SENSOR_TYPE_BACK := “sp2509 c2590”<br>CAMERA_SENSOR_TYPE_FRONT := “gc030a”</p>
<p>(2).若模组厂打样时摄像头拍照方向为横屏，则TARGET_BOARD_BACK_CAMERA_ROTATION/TARGET_BOARD_FRONT_CAMERA_ROTATION设置为false，否则设置为true。</p>
<p>(3).配置Camera支持的分辨率</p>
<pre><code>#select camera 2M,3M,5M,8M,13M,16M,21M
CAMERA_SUPPORT_SIZE := 2M
FRONT_CAMERA_SUPPORT_SIZE := 2M</code></pre><h3 id="3-vendor-sprd-libcamera配置和添加Camera驱动代码"><a href="#3-vendor-sprd-libcamera配置和添加Camera驱动代码" class="headerlink" title="3.vendor/sprd/../../libcamera配置和添加Camera驱动代码"></a>3.vendor/sprd/../../libcamera配置和添加Camera驱动代码</h3><p>(1).在vendor/sprd/../../libcamera/sensor下放置已经适配了平台的sensor_drv代码，<br>如果没有已经适配了平台的驱动代码，那只能按平台已有的驱动代码为模板按硬件文档进行适配修改。<br>注意修改时尽量按平台已有的camera驱动代码为规范。这方面可以自己修改也可以找FAE帮忙。</p>
<p>(2).修改vendor/sprd/../../libcamera/sensorsensor_cfg.c，配置新Camera</p>
<pre><code>#ifdef OV8856
extern SENSOR_INFO_T g_ov8856_mipi_raw_info;
#endif

在对应的sensor_infor_tab添加配置，分别是camera module name/camera name/sensor info/af/otp：
#ifdef OV8856
    {MODULE_SUNNY, &quot;ov8856&quot;, &amp;g_ov8856_mipi_raw_info, {&amp;dw9763a_drv_entry, 0}, &amp;ov8856_cmk_drv_entry},
#endif
</code></pre><hr>
<h2 id="MTK平台"><a href="#MTK平台" class="headerlink" title="MTK平台"></a>MTK平台</h2><h3 id="1-kernel-4-4-drivers-misc-mediatek-imgsensor-inc-kd-imgsensor-h配置"><a href="#1-kernel-4-4-drivers-misc-mediatek-imgsensor-inc-kd-imgsensor-h配置" class="headerlink" title="1.kernel-4.4/drivers/misc/mediatek/imgsensor/inc/kd_imgsensor.h配置"></a>1.kernel-4.4/drivers/misc/mediatek/imgsensor/inc/kd_imgsensor.h配置</h3><pre><code>#define S5K4H8_SENSOR_ID                        0x4088

#define SENSOR_DRVNAME_S5K4H8_MIPI_RAW          &quot;s5k4h8_mipi_raw&quot;</code></pre><h3 id="2-项目对应kernel-4-4-arch-arm-configs-…-xxx-defconfig配置"><a href="#2-项目对应kernel-4-4-arch-arm-configs-…-xxx-defconfig配置" class="headerlink" title="2.项目对应kernel-4.4/arch/arm/configs/…/xxx_defconfig配置"></a>2.项目对应kernel-4.4/arch/arm/configs/…/xxx_defconfig配置</h3><p>可通过查看device目录下项目mk文件里 KERNEL_DEFCONFIG 指向的是哪个config文件<br>CONFIG_CUSTOM_KERNEL_IMGSENSOR=”s5k4h8_mipi_raw”</p>
<p>带debug标签的用于编译过程中查看调试信息</p>
<h3 id="3-项目对应ProjectConfig-mk配置"><a href="#3-项目对应ProjectConfig-mk配置" class="headerlink" title="3.项目对应ProjectConfig.mk配置"></a>3.项目对应ProjectConfig.mk配置</h3><pre><code>CUSTOM_HAL_IMGSENSOR = s5k4h8_mipi_raw
CUSTOM_HAL_MAIN_IMGSENSOR = s5k4h8_mipi_raw
CUSTOM_KERNEL_IMGSENSOR = s5k4h8_mipi_raw
CUSTOM_KERNEL_MAIN_IMGSENSOR = s5k4h8_mipi_raw</code></pre><h3 id="4-kernel-4-4-drivers-misc-mediatek-imgsensor-src-xxx-xxx-imgsensor-sensor-list-c添加"><a href="#4-kernel-4-4-drivers-misc-mediatek-imgsensor-src-xxx-xxx-imgsensor-sensor-list-c添加" class="headerlink" title="4.kernel-4.4/drivers/misc/mediatek/imgsensor/src/xxx/xxx/imgsensor_sensor_list.c添加"></a>4.kernel-4.4/drivers/misc/mediatek/imgsensor/src/xxx/xxx/imgsensor_sensor_list.c添加</h3><pre><code>#if defined(S5K4H8_MIPI_RAW)
    {S5K4H8_SENSOR_ID, SENSOR_DRVNAME_S5K4H8_MIPI_RAW, S5K4H8_MIPI_RAW_SensorInit},
#endif</code></pre><h3 id="5-kernel-4-4-drivers-misc-mediatek-imgsensor-src-xxx-xxx-imgsensor-sensor-list-h添加"><a href="#5-kernel-4-4-drivers-misc-mediatek-imgsensor-src-xxx-xxx-imgsensor-sensor-list-h添加" class="headerlink" title="5.kernel-4.4/drivers/misc/mediatek/imgsensor/src/xxx/xxx/imgsensor_sensor_list.h添加"></a>5.kernel-4.4/drivers/misc/mediatek/imgsensor/src/xxx/xxx/imgsensor_sensor_list.h添加</h3><pre><code>UINT32 S5K4H8_MIPI_RAW_SensorInit(PSENSOR_FUNCTION_STRUCT *pfFunc);</code></pre><h3 id="6-kernel-4-4-drivers-misc-mediatek-imgsensor-src-xxx-xxx-配置和添加Camera-sensor驱动代码"><a href="#6-kernel-4-4-drivers-misc-mediatek-imgsensor-src-xxx-xxx-配置和添加Camera-sensor驱动代码" class="headerlink" title="6.kernel-4.4/drivers/misc/mediatek/imgsensor/src/xxx/xxx 配置和添加Camera sensor驱动代码"></a>6.kernel-4.4/drivers/misc/mediatek/imgsensor/src/xxx/xxx 配置和添加Camera sensor驱动代码</h3><h3 id="7-kernel-4-4-drivers-misc-mediatek-imgsensor-src-xxx-xxx-imgsensor-cfg-table-c-配置上下电时序"><a href="#7-kernel-4-4-drivers-misc-mediatek-imgsensor-src-xxx-xxx-imgsensor-cfg-table-c-配置上下电时序" class="headerlink" title="7.kernel-4.4/drivers/misc/mediatek/imgsensor/src/xxx/xxx/imgsensor_cfg_table.c 配置上下电时序"></a>7.kernel-4.4/drivers/misc/mediatek/imgsensor/src/xxx/xxx/imgsensor_cfg_table.c 配置上下电时序</h3><pre><code>#if defined(S5K4H8_MIPI_RAW)
        {
            SENSOR_DRVNAME_S5K4H8_MIPI_RAW,
            {                            
                {SensorMCLK, Vol_High, 0},                
                {PDN, Vol_Low, 5},
                {RST, Vol_Low, 5},
                {DVDD, Vol_1200, 0},
                {AVDD, Vol_2800, 0},
                {DOVDD, Vol_1800, 5},
                {AFVDD, Vol_2800, 0},
                {PDN, Vol_High, 5},
                {RST, Vol_High, 5}                
            },
        },
#endif</code></pre><h3 id="8-vendor-mediatek-proprietary-custom-xxxx-hal-imgsensor-添加对应Camera驱动代码"><a href="#8-vendor-mediatek-proprietary-custom-xxxx-hal-imgsensor-添加对应Camera驱动代码" class="headerlink" title="8.vendor/mediatek/proprietary/custom/xxxx/hal/imgsensor/ 添加对应Camera驱动代码"></a>8.vendor/mediatek/proprietary/custom/xxxx/hal/imgsensor/ 添加对应Camera驱动代码</h3><h3 id="9-vendor-mediatek-proprietary-custom-xxxx-hal-imgsensor-src-sensorlist-cpp添加"><a href="#9-vendor-mediatek-proprietary-custom-xxxx-hal-imgsensor-src-sensorlist-cpp添加" class="headerlink" title="9.vendor/mediatek/proprietary/custom/xxxx/hal/imgsensor_src/sensorlist.cpp添加"></a>9.vendor/mediatek/proprietary/custom/xxxx/hal/imgsensor_src/sensorlist.cpp添加</h3><pre><code>#if defined(S5K4H8_MIPI_RAW)
    RAW_INFO(S5K4H8_SENSOR_ID, SENSOR_DRVNAME_S5K4H8_MIPI_RAW, S5K4H8_CAM_CALGetCalData),
#endif</code></pre><h3 id="10-vendor-mediatek-proprietary-custom-xxxx-hal-lens-src-lenslist-cpp添加"><a href="#10-vendor-mediatek-proprietary-custom-xxxx-hal-lens-src-lenslist-cpp添加" class="headerlink" title="10.vendor/mediatek/proprietary/custom/xxxx/hal/lens/src/lenslist.cpp添加"></a>10.vendor/mediatek/proprietary/custom/xxxx/hal/lens/src/lenslist.cpp添加</h3><pre><code>#if defined(DW9714AF_S5K4H8_SUNWIN_P130)
    extern PFUNC_GETLENSDEFAULT pDW9714AF_S5K4H8_SUNWIN_P130_getDefaultData;
#endif</code></pre>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2019/11/06/android_system_app/android_dialer_app_video_incall/" class="image is-7by1">
            <img class="thumbnail" src="/gallery/6.jpeg" alt="Android如何屏蔽通话界面的视频彩铃">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-11-06T09:36:14.000Z">2019-11-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android-System-App/">Android System App</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 140 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/11/06/android_system_app/android_dialer_app_video_incall/">Android如何屏蔽通话界面的视频彩铃</a>
            
        </h1>
        <div class="content">
            <p>当电话呼叫对方时，如果对方设置了视频彩铃，则会在呼叫页面出现运营商的视频和彩铃，可以通过修改系统应用中的Dialer App的incall页面来屏蔽。</p>
<hr>
<p>比如MTK平台的Dialer App，路径如下：vendor/mediatek/proprietary/packages/apps/Dialer/java/com/android/incallui/call/DialerCall.java<br>可以通过如下修改：</p>
<pre><code>   public boolean isVideoCall() {
-    return getVideoTech().isTransmittingOrReceiving();
+    return false;//getVideoTech().isTransmittingOrReceiving();
   }</code></pre><p>或者修改vendor/mediatek/proprietary/packages/apps/Dialer/java/com/android/incallui/InCallActivity.java 的<br>private static ShouldShowUiResult getShouldShowVideoUi() 方法使其不显示视频页面</p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2019/04/02/android_system/android_sprd_mtk_alarm_group_whitelist/" class="image is-7by1">
            <img class="thumbnail" src="/gallery/7.jpeg" alt="Android 展讯/MTK Alarm白名单设置">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-04-01T16:00:00.000Z">2019-04-02</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android-System/">Android System</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 minutes read (About 355 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/04/02/android_system/android_sprd_mtk_alarm_group_whitelist/">Android 展讯/MTK Alarm白名单设置</a>
            
        </h1>
        <div class="content">
            <p>目前大部分应用都会通过AlarmManager设置 alarm 来定时或周期唤醒系统来做一些操作。这种随机的 alarm 唤醒会增加系统的待机功耗。所以平台厂商为了功耗优化，一方面禁止了非白名单的第三方应用在系统休眠时唤醒系统，一方面做了心跳对齐的机制（即将这些唤醒时间杂乱的alarm修改为统一时间唤醒）。</p>
<p>当然Android M开始也引入了Doze机制，Doze机制的白名单和平台的Alarm白名单最好都配置上对应的包名。</p>
<hr>
<h3 id="展讯平台"><a href="#展讯平台" class="headerlink" title="展讯平台"></a>展讯平台</h3><p>修改路径：vendor\sprd\platform\frameworks\native\data\etc\appPowerSaveConfig.xml</p>
<p>在配置文件中添加应用包名</p>
<pre><code>&lt;package name=&quot;com.my.app&quot; optimize=&quot;1&quot; alarm=&quot;2&quot; wakelock=&quot;2&quot; network=&quot;0&quot; autolaunch=&quot;2&quot; secondarylaunch=&quot;2&quot; lockscreencleanup=&quot;2&quot; consumertype=&quot;0&quot; /&gt;</code></pre><ul>
<li>optimize 对应是否对该应用进行省电优化的总开关，0 为不优化，1 为优化</li>
<li>alarm 对应待机唤醒优化，0 对应自动，1 对应优化，2 对应不优化</li>
<li>wakelock 对应待机休眠优化，0 对应自动，1 对应优化，2 对应不优化</li>
</ul>
<hr>
<h3 id="MTK平台"><a href="#MTK平台" class="headerlink" title="MTK平台"></a>MTK平台</h3><p>修改路径：frameworks/base/core/java/com/mediatek/amplus/config/alarmplus.config</p>
<p>如果没有该文件就创建一个，在配置文件中添加应用包名</p>
<pre><code>1com.my.app
2com.my.app2</code></pre><p>另外将该文件拷贝到system/etc下</p>
<pre><code>#alarmplus
PRODUCT_COPY_FILES += \
vendor/mediatek/proprietary/frameworks/opt/amplus/config/alarmplus.config:system/etc/alarmplus.config:mtk</code></pre>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2019/02/08/android_java_framework/android_phone_whitelist/" class="image is-7by1">
            <img class="thumbnail" src="/gallery/9.jpeg" alt="Android 实现电话号码（接听/拨号/短信）白名单">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-02-07T16:00:00.000Z">2019-02-08</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android-Java-framework/">Android Java framework</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 546 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/02/08/android_java_framework/android_phone_whitelist/">Android 实现电话号码（接听/拨号/短信）白名单</a>
            
        </h1>
        <div class="content">
            <p>我遇到一个需求，需要实现电话号码的白名单，除了通讯录里的号码，所有来电短信都要屏蔽掉。</p>
<p>Android 7.0后提供了一个电话号码黑名单的功能，可以拦截对应号码的电话和短信，即Android N BlockedNumberContract原生黑名单。</p>
<p>所以我这里就直接利用这个模块的函数，再此之上增加白名单判断。</p>
<hr>
<h3 id="白名单电话接听拦截和短信拦截"><a href="#白名单电话接听拦截和短信拦截" class="headerlink" title="白名单电话接听拦截和短信拦截"></a>白名单电话接听拦截和短信拦截</h3><p>这里直接利用BlockedNumberContract框架里的关键判断类BlockChecker，BlockChecker的isBlocked函数会返回一个bool值，根据这个bool值，BlockedNumberContract框架会决定是否拦截对应号码的电话和短信。</p>
<p>修改位置 frameworks\opt\telephony\src\java\com\android\internal\telephony\BlockChecker.java</p>
<pre><code>   /**
     * Returns {@code true} if {@code phoneNumber} is blocked.
     * &lt;p&gt;
     * This method catches all underlying exceptions to ensure that this method never throws any
     * exception.
     */
    public static boolean isBlocked(Context context, String phoneNumber) {
        boolean isBlocked = false;
        long startTimeNano = System.nanoTime();

        try {
+            //注释掉这部分原生判断，会读取BlockedNumberContract数据库里的名单作对比
+            // if (BlockedNumberContract.SystemContract.shouldSystemBlockNumber(
+           //         context, phoneNumber)) {
+            //     Rlog.d(TAG, phoneNumber + &quot; is blocked.&quot;);
+            //     isBlocked = true;
+            // }

+             //新增一个shouldBlockNumber函数，这里可以根据自己需求，从什么数据库读取白名单来判断对应号码是否该拦截
+               if (shouldBlockNumber( context, phoneNumber)) {
+                Log.d(TAG, phoneNumber + &quot; is blocked.&quot;);
+                isBlocked = true;
+            }


        } catch (Exception e) {
            Rlog.e(TAG, &quot;Exception checking for blocked number: &quot; + e);

        }

        int durationMillis = (int) ((System.nanoTime() - startTimeNano) / 1000000);
        if (durationMillis &gt; 500 || VDBG) {
            Rlog.d(TAG, &quot;Blocked number lookup took: &quot; + durationMillis + &quot; ms.&quot;);
        }
        return isBlocked;
    }</code></pre><p>如果不想短信受控制，可以修改<br>frameworks/opt/telephony/src/java/com/android/internal/telephony/InboundSmsHandler.java</p>
<pre><code>-            block = BlockChecker.isBlocked(mContext, tracker.getDisplayAddress());
+            // not block 
+           // block = BlockChecker.isBlocked(mContext, tracker.getDisplayAddress());


-                        block = BlockChecker.isBlocked(mContext,
-                                cursor.getString(PDU_SEQUENCE_PORT_PROJECTION_INDEX_MAPPING
-                                        .get(DISPLAY_ADDRESS_COLUMN)));

+        // not block 
+                    //    block = BlockChecker.isBlocked(mContext,
+                    //            cursor.getString(PDU_SEQUENCE_PORT_PROJECTION_INDEX_MAPPING
+                    //                    .get(DISPLAY_ADDRESS_COLUMN)));
</code></pre><p>frameworks/opt/telephony/src/java/com/android/internal/telephony/WapPushOverSms.java</p>
<pre><code>-                if (nInd.getFrom() != null
-                        &amp;&amp; BlockChecker.isBlocked(mContext, nInd.getFrom().getString())) {
+
+        // not block 
+        // &amp;&amp; BlockChecker.isBlocked(mContext, nInd.getFrom().getString())
+                if (nInd.getFrom() != null) {</code></pre><hr>
<h3 id="电话拨号拦截"><a href="#电话拨号拦截" class="headerlink" title="电话拨号拦截"></a>电话拨号拦截</h3><p>修改位置 proprietary/packages/services/Telecomm/src/com/android/server/telecom/CallIntentProcessor.java</p>
<pre><code>    /**
     * Processes CALL, CALL_PRIVILEGED, and CALL_EMERGENCY intents.
     *
     * @param intent Call intent containing data about the handle to call.
     */
    static void processOutgoingCallIntent(
            Context context,
            CallsManager callsManager,
            Intent intent) {



                    if (phoneNumber != null) {
            if (!PhoneNumberUtils.isUriNumber(phoneNumber)) {  
               phoneNumber = PhoneNumberUtils.convertAndStrip(phoneNumber);  
            }  
        }

+        if (shouldBlockNumber(context,phoneNumber)) {
+                
+                Log.d(CallIntentProcessor.class,phoneNumber + &quot; is blocked.&quot;);
+
+                return;
+        }


    }</code></pre>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2019/02/07/android_driver/sprd_key_driver_experience/" class="image is-7by1">
            <img class="thumbnail" src="/gallery/13.jpeg" alt="展讯物理按键配置经验">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-02-07T09:36:14.000Z">2019-02-07</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android-Driver/">Android Driver</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 220 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/02/07/android_driver/sprd_key_driver_experience/">展讯物理按键配置经验</a>
            
        </h1>
        <div class="content">
            <p>展讯系统驱动配置物理按键，首先查看硬件原理图，找到对应物理按键的管脚，比如按键5接的是gpio125</p>
<p>1.打开kernel/arch/arm/boot/dts/对应项目的.dts文件<br>修改gpio_keys下的配置，gpios修改对应的gpio引脚号</p>
<pre><code>gpio_keys {
         key_5 {
             label = &quot;5 Key&quot;;
            linux,code = &lt;6&gt;;
-            gpios = &lt;&amp;ap_gpio 92 1&gt;;
+            gpios = &lt;&amp;ap_gpio 125 1&gt;;
             gpio-key,wakeup;
            gpio-key,level-trigger;
         };

}</code></pre><p>linux,code对应的就是KEY CODE<br>gpio-key,wakeup代表按下时如果系统正在休眠会触发唤醒<br>gpio-key,level-trigger 表示增加电平触发判断</p>
<p>2.打开u-boot15/board/spreadtrum/对应项目的pinmap .c文件</p>
<p>对照平台GPIO_Spec的xls表，找到gpio125对应的Ball Name，修改Fuction为默认gpio功能:BITS_PIN_AF(3)</p>
<pre><code>{REG_PIN_RTCK_LTE,                      BITS_PIN_AF(3)},
{REG_MISC_PIN_RTCK_LTE,                 BITS_PIN_DS(1)|BIT_PIN_NULL|BIT_PIN_NUL|BIT_PIN_SLP_AP|BIT_PIN_SLP_NUL|BIT_PIN_SLP_OE},</code></pre>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2019/01/05/android_java_framework/android_java_framework_experience/" class="image is-7by1">
            <img class="thumbnail" src="/gallery/10.jpeg" alt="Android Java framework各种各样的修改经验">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-01-05T09:36:14.000Z">2019-01-05</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android-Java-framework/">Android Java framework</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 minutes read (About 856 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/01/05/android_java_framework/android_java_framework_experience/">Android Java framework各种各样的修改经验</a>
            
        </h1>
        <div class="content">
            <p>顺手记录下修改系统时的经验,网上很容易就能搜到的就不记录了</p>
<hr>
<h3 id="修改下拉快捷菜单栏的菜单列表"><a href="#修改下拉快捷菜单栏的菜单列表" class="headerlink" title="修改下拉快捷菜单栏的菜单列表:"></a>修改下拉快捷菜单栏的菜单列表:</h3><p>主要搜索qstile相关的类</p>
<p>xxxx/packages/apps/SystemUI/res/values/config.xml</p>
<!-- The default tiles to display in QuickSettings -->
<string name="quick_settings_tiles_default" translatable="false">
wifi,bt,dnd,rotation,battery,cell,cast
</string>

<!-- Tiles native to System UI. Order should match "quick_settings_tiles_default" -->
<string name="quick_settings_tiles_stock" translatable="false">
wifi,cell,battery,dnd,rotation,bt,location,hotspot,inversion,saver,work,cast,night
</string>

<hr>
<h3 id="如何在framework层获取当前api被调用时的进程对应的app的application-context"><a href="#如何在framework层获取当前api被调用时的进程对应的app的application-context" class="headerlink" title="如何在framework层获取当前api被调用时的进程对应的app的application context:"></a>如何在framework层获取当前api被调用时的进程对应的app的application context:</h3><p>ActivityThread.currentActivityThread().getApplication()</p>
<hr>
<h3 id="去除-hide-但-make-update-api和编译出错解决方法"><a href="#去除-hide-但-make-update-api和编译出错解决方法" class="headerlink" title="去除@hide 但 make update-api和编译出错解决方法:"></a>去除@hide 但 make update-api和编译出错解决方法:</h3><p>如果make update-api报错的话<br>要看对应方法里是不是有其他@hide的类或方法,比如参数的类是hide的,调用的api是hide的<br>要将所有相关的变量和api都去除hide,才能update成功<br>比如:<br>void aaa(B bbb){<br>    ccc(bbb);<br>}<br>要保证B的类和ccc函数是非hide的</p>
<hr>
<h3 id="如何修改系统通话UI界面"><a href="#如何修改系统通话UI界面" class="headerlink" title="如何修改系统通话UI界面:"></a>如何修改系统通话UI界面:</h3><p>路径为：<br>packages/apps/Dialer/java/com/android/incallui/incall/impl<br>vendor/xxxxx/proprietary/packages/apps/Dialer/java/com/android/incallui/incall/impl</p>
<p>InCallFragment ，InCallButtonGridFragment是关键类，有很多代理类和presenter类</p>
<hr>
<h3 id="UsbManager在连接usb设备时需要request权限才能连接到usb设备-如何跳过申请权限的弹框-默认赋予权限呢"><a href="#UsbManager在连接usb设备时需要request权限才能连接到usb设备-如何跳过申请权限的弹框-默认赋予权限呢" class="headerlink" title="UsbManager在连接usb设备时需要request权限才能连接到usb设备,如何跳过申请权限的弹框,默认赋予权限呢"></a>UsbManager在连接usb设备时需要request权限才能连接到usb设备,如何跳过申请权限的弹框,默认赋予权限呢</h3><p>可以修改framework下的UsbUserSettingsManager:</p>
<pre><code>  // Temporary mapping USB device name to list of UIDs with permissions for the device
    private final HashMap&lt;String, SparseBooleanArray&gt; mDevicePermissionMap =
            new HashMap&lt;&gt;();
    // Temporary mapping UsbAccessory to list of UIDs with permissions for the accessory
    private final HashMap&lt;UsbAccessory, SparseBooleanArray&gt; mAccessoryPermissionMap =
            new HashMap&lt;&gt;();

两个hashmap分别储存的uid和对应的usbdevice,只要存在即允许了权限
    public boolean hasPermission(UsbDevice device, String packageName, int uid) {
        synchronized (mLock) {
            if (isCameraDevicePresent(device)) {
        //camera权限,usb camera需要额外的camera权限
                if (!isCameraPermissionGranted(packageName, uid)) {
                    return false;
                }
            }
        //如果是系统uid,或者mDisablePermissionDialogs 设置禁用usb权限询问框,则默认拥有权限
            if (uid == Process.SYSTEM_UID || mDisablePermissionDialogs) {
                return true;
            }
        //获取对应usbdevice的已允许权限uid,如果uid存在则判断拥有权限
            SparseBooleanArray uidList = mDevicePermissionMap.get(device.getDeviceName());
            if (uidList == null) {
                return false;
            }
            return uidList.get(uid);

        }
    }</code></pre><hr>
<h3 id="系统编译自定义覆盖代码"><a href="#系统编译自定义覆盖代码" class="headerlink" title="系统编译自定义覆盖代码"></a>系统编译自定义覆盖代码</h3><p>资源文件：</p>
<p>Android Overlay机制允许在不修改packages中apk的情况下，来自定义 framework/package/vendor中的资源文件，实现资源的定制。来达到显示不同的UI得目的</p>
<p>PRODUCT_PACKAGE_OVERLAYS :=  device/vendor-name/device-name/product-name/overlay</p>
<p>Or：</p>
<p>DEVICE_PACKAGE_OVERLAYS :=  device/vendor-name/device-name/common/overlay</p>
<p>注意只能修改xml之类的资源文件,java文件无法替换。</p>
<p>代码文件：</p>
<p>通过修改 envsetup 和 lunch执行的mk文件，比如在build/core/envsetup.mk添加复制替换代码：</p>
<p>$(shell \cp -rf vendor/mediatek/xxxx/Camera.java frameworks/base/core/java/android/hardware/Camera.java)</p>
<hr>
<h3 id="通讯录如何判断是否是sim卡储存的号码："><a href="#通讯录如何判断是否是sim卡储存的号码：" class="headerlink" title="通讯录如何判断是否是sim卡储存的号码："></a>通讯录如何判断是否是sim卡储存的号码：</h3><pre><code> private static final String ACCOUNT_TYPE_SIM = &quot;SIM Account&quot;;
 private static final String ACCOUNT_TYPE_USIM = &quot;USIM Account&quot;;
 private static final String ACCOUNT_TYPE_RUIM = &quot;RUIM Account&quot;;
 private static final String ACCOUNT_TYPE_CSIM = &quot;CSIM Account&quot;;

private static boolean isAccountTypeIccCard(String accountTypeString) {
     boolean isIccCardAccount = (ACCOUNT_TYPE_SIM.equals(accountTypeString)
             || ACCOUNT_TYPE_USIM.equals(accountTypeString)
             || ACCOUNT_TYPE_RUIM.equals(accountTypeString)
             || ACCOUNT_TYPE_CSIM.equals(accountTypeString));
     //Log.d(TAG, &quot;account &quot; + accountTypeString + &quot; is IccCard? &quot; + isIccCardAccount);
     return isIccCardAccount;
 }</code></pre><hr>
<h3 id="app监听短信接收，只能监听到短短信，监听不到长短信："><a href="#app监听短信接收，只能监听到短短信，监听不到长短信：" class="headerlink" title="app监听短信接收，只能监听到短短信，监听不到长短信："></a>app监听短信接收，只能监听到短短信，监听不到长短信：</h3><p>检查系统短信应用Mms，长短信是需要系统短信应用去操作拼接的</p>
<hr>
<h3 id="修改系统蓝牙功能支持类型"><a href="#修改系统蓝牙功能支持类型" class="headerlink" title="修改系统蓝牙功能支持类型"></a>修改系统蓝牙功能支持类型</h3><p>vendor/xxxx/proprietary/packages/apps/Bluetooth/res/values/config.xml</p>
<p>修改如下对应功能支持的值</p>
<pre><code>&lt;bool name=&quot;profile_supported_a2dp&quot;&gt;true&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_a2dp_sink&quot;&gt;false&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_hdp&quot;&gt;false&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_hs_hfp&quot;&gt;true&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_hfpclient&quot;&gt;false&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_hid&quot;&gt;false&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_opp&quot;&gt;false&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_pan&quot;&gt;false&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_pbap&quot;&gt;false&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_gatt&quot;&gt;true&lt;/bool&gt;
&lt;bool name=&quot;pbap_include_photos_in_vcard&quot;&gt;false&lt;/bool&gt;
&lt;bool name=&quot;pbap_use_profile_for_owner_vcard&quot;&gt;false&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_map&quot;&gt;false&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_avrcp_controller&quot;&gt;false&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_sap&quot;&gt;false&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_pbapclient&quot;&gt;false&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_mapmce&quot;&gt;false&lt;/bool&gt;
&lt;bool name=&quot;profile_supported_hidd&quot;&gt;false&lt;/bool&gt;</code></pre><hr>
<hr>
<hr>
<hr>
<hr>
<hr>
<hr>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2018/12/24/zbar/zbar_correct_recognize/" class="image is-7by1">
            <img class="thumbnail" src="/gallery/2.jpeg" alt="解决Zbar倾斜二维码/条形码识别不出来的情况">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-12-24T09:43:14.000Z">2018-12-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Zbar/">Zbar</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 546 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/12/24/zbar/zbar_correct_recognize/">解决Zbar倾斜二维码/条形码识别不出来的情况</a>
            
        </h1>
        <div class="content">
            <p>在使用Zbar的过程中，有时会遇到二维码/条形码倾斜45%时识别不出来的情况，然而这并不是Zbar的Bug，下面给出两种解决办法。</p>
<hr>
<h2 id="通过修改Zbar的扫描密度设置（推荐）"><a href="#通过修改Zbar的扫描密度设置（推荐）" class="headerlink" title="通过修改Zbar的扫描密度设置（推荐）"></a>通过修改Zbar的扫描密度设置（推荐）</h2><p>Zbar在对图像识别时会逐行逐列地扫描，扫描初始化设置里提供了X轴和Y轴的扫描密度的设置，将密度值设置为1，即不跨行扫描，就可以正常识别倾斜的二维码/条形码。  </p>
<pre><code>ImageScanner.setConfig(0, ZBAR_CFG_X_DENSITY, 1);
ImageScanner.setConfig(0, ZBAR_CFG_Y_DENSITY, 1);</code></pre><p>注意，这里涉及到一个识别速度的问题，很多人将这个值设置为2甚至3，就是为了可以加快识别一帧图像的速度。因为设置为2时，每2行才扫描1行，识别时间更短了，但这也会丢失细节，导致倾斜二维码识别不出来。大部分情况下，Zbar识别一帧图像的时间小于1秒，为了加快一倍的识别速度，丢失识别成功率是不值得的。</p>
<p>使用JNI调用Zbar的情况，要注意检查Java和C代码里对Zbar的初始化设置有没有问题。  </p>
<hr>
<h2 id="通过图像处理矫正再识别"><a href="#通过图像处理矫正再识别" class="headerlink" title="通过图像处理矫正再识别"></a>通过图像处理矫正再识别</h2><p>将图像矫正再丢给Zbar识别，也是可以的。很多人会使用OpenCV进行图像矫正，这里提供一个处理过程：</p>
<p>resize（图像尺寸缩小）-&gt;threshold（二值化）-&gt;erode（几次膨胀腐蚀）-&gt;HoughLines（寻找直线）-&gt;筛除出二维码/一维码的边线，计算出边线的倾斜角度-&gt;warpAffine（对原图像进行仿射变换）</p>
<p>处理后再将图像丢给Zbar识别即可，OpenCV相关代码网上很多，这里就不贴了。    </p>
<p>&nbsp;<br>综上所述，这里还是推荐第一种方式。如果还是识别不出来，也许就是图像帧的质量问题，毕竟你觉得清晰的图像，Zbar并不一定觉得细节清晰。</p>

        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-image">
        <a href="/2018/12/19/opencv/opencv_correct_image/" class="image is-7by1">
            <img class="thumbnail" src="/gallery/4.jpeg" alt="使用OpenCV对二维码/条形码进行矫正">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-12-19T09:00:00.000Z">2018-12-19</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/OpenCV/">OpenCV</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 591 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/12/19/opencv/opencv_correct_image/">使用OpenCV对二维码/条形码进行矫正</a>
            
        </h1>
        <div class="content">
            <p>OpenCV提供了很多图像处理的API，我们可以利用这些API做一些矫正四边形物体比如二维码/条码的工作。</p>
<p>大概过程如下：</p>
<p>resize（图像尺寸缩小）-&gt;threshold（二值化）-&gt;erode（几次膨胀腐蚀）-&gt;HoughLines（寻找直线）-&gt;筛除出二维码/一维码的边线，计算出边线的倾斜角度-&gt;warpAffine（对原图像进行仿射变换）</p>
<p>下面贴具体的代码：</p>
<pre><code>void correctImage(unsigned char *nv21, int width, int height, unsigned char *dest) {

    int resizeWidth = width/2;
    int resizeHeight = height/2;

    //初始化需要使用的Mat
    Mat imgMat(height * 3 / 2, width, CV_8UC1, nv21);
    //灰度图Mat
    Mat grayMat(height, width, CV_8UC1);
    //最终结果的Mat
    Mat resultMat(height, width, CV_8UC1,dest);
    //过程Mat
    Mat innerMat(resizeHeight, resizeWidth, CV_8UC1);
    Mat binMat(resizeHeight, resizeWidth, CV_8UC1);

    //将yuv420sp转为灰度图
    cvtColor(imgMat, grayMat, CV_YUV420sp2GRAY);

    //缩小图像尺寸以减少后面图像处理工作的耗时
    resize(grayMat, innerMat, Size(resizeWidth, resizeHeight));

    //自适应二值化参数
    int blockSize = 3;
    int constValue = 5;
    const int maxVal = 255;

    //自适应二值化
    adaptiveThreshold(innerMat, binMat, maxVal,ADAPTIVE_THRESH_GAUSSIAN_C, THRESH_BINARY,
        blockSize, constValue);

    int rectWidth = resizeWidth / 5;
    int rectHeight = resizeHeight / 5;
    int centerX = resizeWidth / 2, centerY = resizeHeight / 2;

    Mat element = getStructuringElement(2, Size(7, 7));

    //膨胀腐蚀
    for (int i = 0; i &lt; 2; i++) {
        erode(innerMat, innerMat, element);
        i++;
    }

    erode(innerMat, binMat, element);
    binMat = innerMat - binMat;

    //寻找直线
    vector&lt;Vec2f&gt; lines;
    HoughLines(binMat, lines, 1, CV_PI / 150, 90, 0, 0);
    LOGV(&quot;OpenCV_CorrectImage寻找边线，边线数量:%d&quot;, lines.size());

    //由于边线可能有很多，这里最多取8条边线来计算角度
    int lineNum = lines.size() &gt; 8 ? 8 : lines.size();
    float sum = 0;

    //num参数记录倾斜的线条的数量
    int num = 0;
    for (int i = 0; i &lt; lineNum; i++) {

        float theta = lines[i][1];
        //各个角度对应的theta值,相当于:角度/180*PI
        //90-&gt;1.5708
        //100 -&gt; 1.7453
        //80 -&gt; 1.3963
        //95-&gt;1.6580
        //85-&gt;1.4835
        //0 -&gt;0
        //5-&gt;0.0872
        //10 -&gt; 0.1745
        //12  -&gt;0.209
        //15 -&gt;0.2618
        //180-&gt; 3.1415
        //170 -&gt;2.967

        // 过滤掉角度正常的，0-15度，80-100 ,170-180
        if ((theta &gt;= 0 &amp;&amp; theta &lt;= 0.2618) || (theta &gt;= 1.3963 &amp;&amp; theta &lt;= 1.7453) ||
            (theta &gt;= 2.967 &amp;&amp; theta &lt;= 3.1416)) {
        } else {
            if (theta &gt;= 1.5708)
                theta = theta - 1.5708;
            LOGV(&quot;OpenCV_CorrectImage寻找边线，角度:%f&quot;, theta);
            sum += theta;
            num += 1;
        }
    }

    //需要矫正
    if (num &gt; 0) {
        float average = sum / num;
        //转成角度
        double angle = average / CV_PI * 180;
        LOGV(&quot;OpenCV_CorrectImage寻找边线，角度:%f&quot;, angle);

        //如果矫正角度大于5才矫正
        if (angle &gt; 5) {
            Point2f center;
            center.x = float(width / 2.0);
            center.y = float(height / 2.0);
            Mat M = getRotationMatrix2D(center, angle, 1);
            //仿射变换，背景色填充为黑色
            warpAffine(grayMat, resultMat, M, resultMat.size(), 1, 0, Scalar(255));          
            LOGV(&quot;OpenCV_CorrectImage角度变换完成&quot;);
        }
    }
}</code></pre><p>OpenCV很多图像处理的API有各种各样的参数，不同的参数会适合不同的场景，所以以上代码也不可能适应所有场景下的二维码/条码图片。</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous is-invisible is-hidden-mobile">
            <a class="is-flex-grow has-text-black-ter" href="/page/0/">Previous</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/page/2/">Next</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link is-current" href="/">1</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/2/">2</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="Zola">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Zola
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Enjoy technology , Enjoy Life
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>ShenZhen,China</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            13
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            9
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            26
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/zolad" target="_blank" rel="noopener">
                Follow</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Github" href="https://github.com/zolad">
                
                <i class="fab fa-github"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Links
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://github.com/Zolad" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">Zola</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>

    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Android-Driver/">
            <span class="level-start">
                <span class="level-item">Android Driver</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android-Java-framework/">
            <span class="level-start">
                <span class="level-item">Android Java framework</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android-Map/">
            <span class="level-start">
                <span class="level-item">Android Map</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android-System/">
            <span class="level-start">
                <span class="level-item">Android System</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android-System-App/">
            <span class="level-start">
                <span class="level-item">Android System App</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android-UVCCamera-libuvc/">
            <span class="level-start">
                <span class="level-item">Android UVCCamera/libuvc</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Java-Certificate/">
            <span class="level-start">
                <span class="level-item">Java Certificate</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/OpenCV/">
            <span class="level-start">
                <span class="level-item">OpenCV</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Zbar/">
            <span class="level-start">
                <span class="level-item">Zbar</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Tag Cloud
        </h3>
        <a href="/tags/Alarm/" style="font-size: 10px;">Alarm</a> <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Android-Camera-Driver/" style="font-size: 10px;">Android Camera Driver</a> <a href="/tags/Android-Driver/" style="font-size: 10px;">Android Driver</a> <a href="/tags/Android-Java-framework/" style="font-size: 10px;">Android Java framework</a> <a href="/tags/Android-Kernel/" style="font-size: 10px;">Android Kernel</a> <a href="/tags/Android-KitKat/" style="font-size: 10px;">Android KitKat</a> <a href="/tags/Android-Map/" style="font-size: 10px;">Android Map</a> <a href="/tags/Android-System/" style="font-size: 10px;">Android System</a> <a href="/tags/Android-System-App/" style="font-size: 10px;">Android System App</a> <a href="/tags/Certificate-Verify/" style="font-size: 10px;">Certificate Verify</a> <a href="/tags/Decript/" style="font-size: 10px;">Decript</a> <a href="/tags/Dialer/" style="font-size: 10px;">Dialer</a> <a href="/tags/Incall/" style="font-size: 10px;">Incall</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Key/" style="font-size: 10px;">Key</a> <a href="/tags/Map-SDK/" style="font-size: 10px;">Map SDK</a> <a href="/tags/MapView/" style="font-size: 10px;">MapView</a> <a href="/tags/OpenCV/" style="font-size: 10px;">OpenCV</a> <a href="/tags/PhoneNumber-WhiteList/" style="font-size: 10px;">PhoneNumber WhiteList</a> <a href="/tags/Power-Save/" style="font-size: 10px;">Power Save</a> <a href="/tags/SPRD/" style="font-size: 10px;">SPRD</a> <a href="/tags/UVCCamera/" style="font-size: 10px;">UVCCamera</a> <a href="/tags/Video-Call/" style="font-size: 10px;">Video Call</a> <a href="/tags/Zbar/" style="font-size: 20px;">Zbar</a> <a href="/tags/libuvc/" style="font-size: 10px;">libuvc</a>
    </div>
</div>
    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2020/02/28/java_certificate_verify/java_certificate_verify_and_decript/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/gallery/5.jpeg" alt="JAVA根证书验证用户证书是否可信和解密数据">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-27T16:00:00.000Z">2020-02-28</time></div>
                    <a href="/2020/02/28/java_certificate_verify/java_certificate_verify_and_decript/" class="title has-link-black-ter is-size-6 has-text-weight-normal">JAVA根证书验证用户证书是否可信和解密数据</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Java-Certificate/">Java Certificate</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/28/uvccamera/android_uvccamera_experience_and_bug/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/gallery/3.jpeg" alt="Android UVCCamera/libuvc遇到的卡死崩溃bug和解决方法">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-27T16:00:00.000Z">2020-02-28</time></div>
                    <a href="/2020/02/28/uvccamera/android_uvccamera_experience_and_bug/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Android UVCCamera/libuvc遇到的卡死崩溃bug和解决方法</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Android-UVCCamera-libuvc/">Android UVCCamera/libuvc</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/12/07/android_driver/camera_driver_config_experience/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/gallery/11.jpeg" alt="Android Camera Driver平台(展讯、MTK)适配经验">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-07T02:00:00.000Z">2019-12-07</time></div>
                    <a href="/2019/12/07/android_driver/camera_driver_config_experience/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Android Camera Driver平台(展讯、MTK)适配经验</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Android-Driver/">Android Driver</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/11/06/android_system_app/android_dialer_app_video_incall/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/gallery/6.jpeg" alt="Android如何屏蔽通话界面的视频彩铃">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-06T09:36:14.000Z">2019-11-06</time></div>
                    <a href="/2019/11/06/android_system_app/android_dialer_app_video_incall/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Android如何屏蔽通话界面的视频彩铃</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Android-System-App/">Android System App</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/04/02/android_system/android_sprd_mtk_alarm_group_whitelist/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/gallery/7.jpeg" alt="Android 展讯/MTK Alarm白名单设置">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-04-01T16:00:00.000Z">2019-04-02</time></div>
                    <a href="/2019/04/02/android_system/android_sprd_mtk_alarm_group_whitelist/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Android 展讯/MTK Alarm白名单设置</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Android-System/">Android System</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">February 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">December 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">November 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">April 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/02/">
                <span class="level-start">
                    <span class="level-item">February 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">January 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">December 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">October 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/07/">
                <span class="level-start">
                    <span class="level-item">July 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Alarm/">
                        <span class="tag">Alarm</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android/">
                        <span class="tag">Android</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Camera-Driver/">
                        <span class="tag">Android Camera Driver</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Driver/">
                        <span class="tag">Android Driver</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Java-framework/">
                        <span class="tag">Android Java framework</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Kernel/">
                        <span class="tag">Android Kernel</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-KitKat/">
                        <span class="tag">Android KitKat</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Map/">
                        <span class="tag">Android Map</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-System/">
                        <span class="tag">Android System</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-System-App/">
                        <span class="tag">Android System App</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Certificate-Verify/">
                        <span class="tag">Certificate Verify</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Decript/">
                        <span class="tag">Decript</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Dialer/">
                        <span class="tag">Dialer</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Incall/">
                        <span class="tag">Incall</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Java/">
                        <span class="tag">Java</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Key/">
                        <span class="tag">Key</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Map-SDK/">
                        <span class="tag">Map SDK</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MapView/">
                        <span class="tag">MapView</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OpenCV/">
                        <span class="tag">OpenCV</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PhoneNumber-WhiteList/">
                        <span class="tag">PhoneNumber WhiteList</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Power-Save/">
                        <span class="tag">Power Save</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SPRD/">
                        <span class="tag">SPRD</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UVCCamera/">
                        <span class="tag">UVCCamera</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Video-Call/">
                        <span class="tag">Video Call</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Zbar/">
                        <span class="tag">Zbar</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/libuvc/">
                        <span class="tag">libuvc</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2020/02/28/java_certificate_verify/java_certificate_verify_and_decript/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/gallery/5.jpeg" alt="JAVA根证书验证用户证书是否可信和解密数据">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-27T16:00:00.000Z">2020-02-28</time></div>
                    <a href="/2020/02/28/java_certificate_verify/java_certificate_verify_and_decript/" class="title has-link-black-ter is-size-6 has-text-weight-normal">JAVA根证书验证用户证书是否可信和解密数据</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Java-Certificate/">Java Certificate</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/28/uvccamera/android_uvccamera_experience_and_bug/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/gallery/3.jpeg" alt="Android UVCCamera/libuvc遇到的卡死崩溃bug和解决方法">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-27T16:00:00.000Z">2020-02-28</time></div>
                    <a href="/2020/02/28/uvccamera/android_uvccamera_experience_and_bug/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Android UVCCamera/libuvc遇到的卡死崩溃bug和解决方法</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Android-UVCCamera-libuvc/">Android UVCCamera/libuvc</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/12/07/android_driver/camera_driver_config_experience/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/gallery/11.jpeg" alt="Android Camera Driver平台(展讯、MTK)适配经验">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-07T02:00:00.000Z">2019-12-07</time></div>
                    <a href="/2019/12/07/android_driver/camera_driver_config_experience/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Android Camera Driver平台(展讯、MTK)适配经验</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Android-Driver/">Android Driver</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/11/06/android_system_app/android_dialer_app_video_incall/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/gallery/6.jpeg" alt="Android如何屏蔽通话界面的视频彩铃">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-11-06T09:36:14.000Z">2019-11-06</time></div>
                    <a href="/2019/11/06/android_system_app/android_dialer_app_video_incall/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Android如何屏蔽通话界面的视频彩铃</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Android-System-App/">Android System App</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/04/02/android_system/android_sprd_mtk_alarm_group_whitelist/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/gallery/7.jpeg" alt="Android 展讯/MTK Alarm白名单设置">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-04-01T16:00:00.000Z">2019-04-02</time></div>
                    <a href="/2019/04/02/android_system/android_sprd_mtk_alarm_group_whitelist/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Android 展讯/MTK Alarm白名单设置</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Android-System/">Android System</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">February 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">December 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">November 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">April 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/02/">
                <span class="level-start">
                    <span class="level-item">February 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">January 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">December 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">October 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/07/">
                <span class="level-start">
                    <span class="level-item">July 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Alarm/">
                        <span class="tag">Alarm</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android/">
                        <span class="tag">Android</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Camera-Driver/">
                        <span class="tag">Android Camera Driver</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Driver/">
                        <span class="tag">Android Driver</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Java-framework/">
                        <span class="tag">Android Java framework</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Kernel/">
                        <span class="tag">Android Kernel</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-KitKat/">
                        <span class="tag">Android KitKat</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Map/">
                        <span class="tag">Android Map</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-System/">
                        <span class="tag">Android System</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-System-App/">
                        <span class="tag">Android System App</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Certificate-Verify/">
                        <span class="tag">Certificate Verify</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Decript/">
                        <span class="tag">Decript</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Dialer/">
                        <span class="tag">Dialer</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Incall/">
                        <span class="tag">Incall</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Java/">
                        <span class="tag">Java</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Key/">
                        <span class="tag">Key</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Map-SDK/">
                        <span class="tag">Map SDK</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MapView/">
                        <span class="tag">MapView</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OpenCV/">
                        <span class="tag">OpenCV</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PhoneNumber-WhiteList/">
                        <span class="tag">PhoneNumber WhiteList</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Power-Save/">
                        <span class="tag">Power Save</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SPRD/">
                        <span class="tag">SPRD</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UVCCamera/">
                        <span class="tag">UVCCamera</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Video-Call/">
                        <span class="tag">Video Call</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Zbar/">
                        <span class="tag">Zbar</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/libuvc/">
                        <span class="tag">libuvc</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/gen.svg" alt="Zola&#39;s Blog" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 Zola&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'http://yoursite.com',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>